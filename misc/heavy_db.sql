--
-- DDL para creación de BD y tablas y SQL para carga de datos iniciales
-- de una aplicación demostrativa sobre la que hacer cargas pesadas
--
-- angel.galindo@uols.org
-- 2020/03/04
--
CREATE DATABASE heavy_db;
CREATE USER 'heavy_db_admin'@'localhost' IDENTIFIED BY 'easypass';
GRANT ALL PRIVILEGES ON heavy_db.* TO 'heavy_db_admin'@'localhost';
FLUSH PRIVILEGES;
USE heavy_db

CREATE TABLE one (
  id int auto_increment not null primary key,
  name varchar(255)
);

CREATE TABLE two (
  id int auto_increment not null primary key,
  name varchar(255)
);

CREATE TABLE three (
  id int auto_increment not null primary key,
  name varchar(255)
);

CREATE TABLE four (
  id int auto_increment not null primary key,
  name varchar(255)
);

-- generado con:
-- for table in one two three four ; do echo "== $table =="; for i in $(seq 0 99); do echo "insert into $table (name) values ('$i');" ; done >> s08/heavy_db.sql ; done 

-- Luego podremos castigar a la BD pidiéndole hacer el producto cartesiano de 100x100x100x100
-- select one.* from one, two, three, four
-- Esta consulta requiere más de 5 GB de RAM y puede tardar más de medio minuto en ejecutarse

insert into one (name) values ('0');
insert into one (name) values ('1');
insert into one (name) values ('2');
insert into one (name) values ('3');
insert into one (name) values ('4');
insert into one (name) values ('5');
insert into one (name) values ('6');
insert into one (name) values ('7');
insert into one (name) values ('8');
insert into one (name) values ('9');
insert into one (name) values ('10');
insert into one (name) values ('11');
insert into one (name) values ('12');
insert into one (name) values ('13');
insert into one (name) values ('14');
insert into one (name) values ('15');
insert into one (name) values ('16');
insert into one (name) values ('17');
insert into one (name) values ('18');
insert into one (name) values ('19');
insert into one (name) values ('20');
insert into one (name) values ('21');
insert into one (name) values ('22');
insert into one (name) values ('23');
insert into one (name) values ('24');
insert into one (name) values ('25');
insert into one (name) values ('26');
insert into one (name) values ('27');
insert into one (name) values ('28');
insert into one (name) values ('29');
insert into one (name) values ('30');
insert into one (name) values ('31');
insert into one (name) values ('32');
insert into one (name) values ('33');
insert into one (name) values ('34');
insert into one (name) values ('35');
insert into one (name) values ('36');
insert into one (name) values ('37');
insert into one (name) values ('38');
insert into one (name) values ('39');
insert into one (name) values ('40');
insert into one (name) values ('41');
insert into one (name) values ('42');
insert into one (name) values ('43');
insert into one (name) values ('44');
insert into one (name) values ('45');
insert into one (name) values ('46');
insert into one (name) values ('47');
insert into one (name) values ('48');
insert into one (name) values ('49');
insert into one (name) values ('50');
insert into one (name) values ('51');
insert into one (name) values ('52');
insert into one (name) values ('53');
insert into one (name) values ('54');
insert into one (name) values ('55');
insert into one (name) values ('56');
insert into one (name) values ('57');
insert into one (name) values ('58');
insert into one (name) values ('59');
insert into one (name) values ('60');
insert into one (name) values ('61');
insert into one (name) values ('62');
insert into one (name) values ('63');
insert into one (name) values ('64');
insert into one (name) values ('65');
insert into one (name) values ('66');
insert into one (name) values ('67');
insert into one (name) values ('68');
insert into one (name) values ('69');
insert into one (name) values ('70');
insert into one (name) values ('71');
insert into one (name) values ('72');
insert into one (name) values ('73');
insert into one (name) values ('74');
insert into one (name) values ('75');
insert into one (name) values ('76');
insert into one (name) values ('77');
insert into one (name) values ('78');
insert into one (name) values ('79');
insert into one (name) values ('80');
insert into one (name) values ('81');
insert into one (name) values ('82');
insert into one (name) values ('83');
insert into one (name) values ('84');
insert into one (name) values ('85');
insert into one (name) values ('86');
insert into one (name) values ('87');
insert into one (name) values ('88');
insert into one (name) values ('89');
insert into one (name) values ('90');
insert into one (name) values ('91');
insert into one (name) values ('92');
insert into one (name) values ('93');
insert into one (name) values ('94');
insert into one (name) values ('95');
insert into one (name) values ('96');
insert into one (name) values ('97');
insert into one (name) values ('98');
insert into one (name) values ('99');
insert into two (name) values ('0');
insert into two (name) values ('1');
insert into two (name) values ('2');
insert into two (name) values ('3');
insert into two (name) values ('4');
insert into two (name) values ('5');
insert into two (name) values ('6');
insert into two (name) values ('7');
insert into two (name) values ('8');
insert into two (name) values ('9');
insert into two (name) values ('10');
insert into two (name) values ('11');
insert into two (name) values ('12');
insert into two (name) values ('13');
insert into two (name) values ('14');
insert into two (name) values ('15');
insert into two (name) values ('16');
insert into two (name) values ('17');
insert into two (name) values ('18');
insert into two (name) values ('19');
insert into two (name) values ('20');
insert into two (name) values ('21');
insert into two (name) values ('22');
insert into two (name) values ('23');
insert into two (name) values ('24');
insert into two (name) values ('25');
insert into two (name) values ('26');
insert into two (name) values ('27');
insert into two (name) values ('28');
insert into two (name) values ('29');
insert into two (name) values ('30');
insert into two (name) values ('31');
insert into two (name) values ('32');
insert into two (name) values ('33');
insert into two (name) values ('34');
insert into two (name) values ('35');
insert into two (name) values ('36');
insert into two (name) values ('37');
insert into two (name) values ('38');
insert into two (name) values ('39');
insert into two (name) values ('40');
insert into two (name) values ('41');
insert into two (name) values ('42');
insert into two (name) values ('43');
insert into two (name) values ('44');
insert into two (name) values ('45');
insert into two (name) values ('46');
insert into two (name) values ('47');
insert into two (name) values ('48');
insert into two (name) values ('49');
insert into two (name) values ('50');
insert into two (name) values ('51');
insert into two (name) values ('52');
insert into two (name) values ('53');
insert into two (name) values ('54');
insert into two (name) values ('55');
insert into two (name) values ('56');
insert into two (name) values ('57');
insert into two (name) values ('58');
insert into two (name) values ('59');
insert into two (name) values ('60');
insert into two (name) values ('61');
insert into two (name) values ('62');
insert into two (name) values ('63');
insert into two (name) values ('64');
insert into two (name) values ('65');
insert into two (name) values ('66');
insert into two (name) values ('67');
insert into two (name) values ('68');
insert into two (name) values ('69');
insert into two (name) values ('70');
insert into two (name) values ('71');
insert into two (name) values ('72');
insert into two (name) values ('73');
insert into two (name) values ('74');
insert into two (name) values ('75');
insert into two (name) values ('76');
insert into two (name) values ('77');
insert into two (name) values ('78');
insert into two (name) values ('79');
insert into two (name) values ('80');
insert into two (name) values ('81');
insert into two (name) values ('82');
insert into two (name) values ('83');
insert into two (name) values ('84');
insert into two (name) values ('85');
insert into two (name) values ('86');
insert into two (name) values ('87');
insert into two (name) values ('88');
insert into two (name) values ('89');
insert into two (name) values ('90');
insert into two (name) values ('91');
insert into two (name) values ('92');
insert into two (name) values ('93');
insert into two (name) values ('94');
insert into two (name) values ('95');
insert into two (name) values ('96');
insert into two (name) values ('97');
insert into two (name) values ('98');
insert into two (name) values ('99');
insert into three (name) values ('0');
insert into three (name) values ('1');
insert into three (name) values ('2');
insert into three (name) values ('3');
insert into three (name) values ('4');
insert into three (name) values ('5');
insert into three (name) values ('6');
insert into three (name) values ('7');
insert into three (name) values ('8');
insert into three (name) values ('9');
insert into three (name) values ('10');
insert into three (name) values ('11');
insert into three (name) values ('12');
insert into three (name) values ('13');
insert into three (name) values ('14');
insert into three (name) values ('15');
insert into three (name) values ('16');
insert into three (name) values ('17');
insert into three (name) values ('18');
insert into three (name) values ('19');
insert into three (name) values ('20');
insert into three (name) values ('21');
insert into three (name) values ('22');
insert into three (name) values ('23');
insert into three (name) values ('24');
insert into three (name) values ('25');
insert into three (name) values ('26');
insert into three (name) values ('27');
insert into three (name) values ('28');
insert into three (name) values ('29');
insert into three (name) values ('30');
insert into three (name) values ('31');
insert into three (name) values ('32');
insert into three (name) values ('33');
insert into three (name) values ('34');
insert into three (name) values ('35');
insert into three (name) values ('36');
insert into three (name) values ('37');
insert into three (name) values ('38');
insert into three (name) values ('39');
insert into three (name) values ('40');
insert into three (name) values ('41');
insert into three (name) values ('42');
insert into three (name) values ('43');
insert into three (name) values ('44');
insert into three (name) values ('45');
insert into three (name) values ('46');
insert into three (name) values ('47');
insert into three (name) values ('48');
insert into three (name) values ('49');
insert into three (name) values ('50');
insert into three (name) values ('51');
insert into three (name) values ('52');
insert into three (name) values ('53');
insert into three (name) values ('54');
insert into three (name) values ('55');
insert into three (name) values ('56');
insert into three (name) values ('57');
insert into three (name) values ('58');
insert into three (name) values ('59');
insert into three (name) values ('60');
insert into three (name) values ('61');
insert into three (name) values ('62');
insert into three (name) values ('63');
insert into three (name) values ('64');
insert into three (name) values ('65');
insert into three (name) values ('66');
insert into three (name) values ('67');
insert into three (name) values ('68');
insert into three (name) values ('69');
insert into three (name) values ('70');
insert into three (name) values ('71');
insert into three (name) values ('72');
insert into three (name) values ('73');
insert into three (name) values ('74');
insert into three (name) values ('75');
insert into three (name) values ('76');
insert into three (name) values ('77');
insert into three (name) values ('78');
insert into three (name) values ('79');
insert into three (name) values ('80');
insert into three (name) values ('81');
insert into three (name) values ('82');
insert into three (name) values ('83');
insert into three (name) values ('84');
insert into three (name) values ('85');
insert into three (name) values ('86');
insert into three (name) values ('87');
insert into three (name) values ('88');
insert into three (name) values ('89');
insert into three (name) values ('90');
insert into three (name) values ('91');
insert into three (name) values ('92');
insert into three (name) values ('93');
insert into three (name) values ('94');
insert into three (name) values ('95');
insert into three (name) values ('96');
insert into three (name) values ('97');
insert into three (name) values ('98');
insert into three (name) values ('99');
insert into four (name) values ('0');
insert into four (name) values ('1');
insert into four (name) values ('2');
insert into four (name) values ('3');
insert into four (name) values ('4');
insert into four (name) values ('5');
insert into four (name) values ('6');
insert into four (name) values ('7');
insert into four (name) values ('8');
insert into four (name) values ('9');
insert into four (name) values ('10');
insert into four (name) values ('11');
insert into four (name) values ('12');
insert into four (name) values ('13');
insert into four (name) values ('14');
insert into four (name) values ('15');
insert into four (name) values ('16');
insert into four (name) values ('17');
insert into four (name) values ('18');
insert into four (name) values ('19');
insert into four (name) values ('20');
insert into four (name) values ('21');
insert into four (name) values ('22');
insert into four (name) values ('23');
insert into four (name) values ('24');
insert into four (name) values ('25');
insert into four (name) values ('26');
insert into four (name) values ('27');
insert into four (name) values ('28');
insert into four (name) values ('29');
insert into four (name) values ('30');
insert into four (name) values ('31');
insert into four (name) values ('32');
insert into four (name) values ('33');
insert into four (name) values ('34');
insert into four (name) values ('35');
insert into four (name) values ('36');
insert into four (name) values ('37');
insert into four (name) values ('38');
insert into four (name) values ('39');
insert into four (name) values ('40');
insert into four (name) values ('41');
insert into four (name) values ('42');
insert into four (name) values ('43');
insert into four (name) values ('44');
insert into four (name) values ('45');
insert into four (name) values ('46');
insert into four (name) values ('47');
insert into four (name) values ('48');
insert into four (name) values ('49');
insert into four (name) values ('50');
insert into four (name) values ('51');
insert into four (name) values ('52');
insert into four (name) values ('53');
insert into four (name) values ('54');
insert into four (name) values ('55');
insert into four (name) values ('56');
insert into four (name) values ('57');
insert into four (name) values ('58');
insert into four (name) values ('59');
insert into four (name) values ('60');
insert into four (name) values ('61');
insert into four (name) values ('62');
insert into four (name) values ('63');
insert into four (name) values ('64');
insert into four (name) values ('65');
insert into four (name) values ('66');
insert into four (name) values ('67');
insert into four (name) values ('68');
insert into four (name) values ('69');
insert into four (name) values ('70');
insert into four (name) values ('71');
insert into four (name) values ('72');
insert into four (name) values ('73');
insert into four (name) values ('74');
insert into four (name) values ('75');
insert into four (name) values ('76');
insert into four (name) values ('77');
insert into four (name) values ('78');
insert into four (name) values ('79');
insert into four (name) values ('80');
insert into four (name) values ('81');
insert into four (name) values ('82');
insert into four (name) values ('83');
insert into four (name) values ('84');
insert into four (name) values ('85');
insert into four (name) values ('86');
insert into four (name) values ('87');
insert into four (name) values ('88');
insert into four (name) values ('89');
insert into four (name) values ('90');
insert into four (name) values ('91');
insert into four (name) values ('92');
insert into four (name) values ('93');
insert into four (name) values ('94');
insert into four (name) values ('95');
insert into four (name) values ('96');
insert into four (name) values ('97');
insert into four (name) values ('98');
insert into four (name) values ('99');
